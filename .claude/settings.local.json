{
  "permissions": {
    "allow": [
      "WebFetch(domain:forum.milestonesys.com)",
      "Bash(find:*)",
      "Bash(for dir in \"AdminMultiTab\" \"AdminTabHardwarePlugin\" \"AdminTabPlugin\" \"BatAction\" \"Chat\" \"ChatWithWebsockets\" \"ConfigDump\" \"LicenseRegistration\" \"Property\" \"SensorMonitor\" \"ServerConnectionLicense\" \"ServerSideCarrousel\" \"ServiceTest\" \"SiteLicense\" \"VideoPreview\")",
      "Bash(do echo \"=== $dir ===\" ls -la \"C:\\\\Users\\\\admin\\\\Downloads\\\\mipsdk-samples-plugin-main\\\\mipsdk-samples-plugin-main/$dir/Admin/\")",
      "Bash(powershell.exe -NoProfile -File /dev/null -Command 'Write-Host hello')",
      "Bash(/tmp/reflect_status.ps1 << 'PSEOF'\n$asm = [System.Reflection.Assembly]::LoadFrom\\(\"C:\\\\Program Files\\\\Milestone\\\\MIPPlugins\\\\RtmpStreamer\\\\VideoOS.Platform.dll\"\\)\n\nWrite-Host \"=== Types with Status in name ===\"\n$asm.GetTypes\\(\\) | Where-Object { $_.Name -like \"*Status*\" -and $_.IsPublic } | ForEach-Object { \"$\\($_.FullName\\) \\($\\($_.BaseType.Name\\)\\)\" }\n\nWrite-Host \"\"\nWrite-Host \"=== ItemNode status/icon properties ===\"\n$itemNodeType = $asm.GetType\\(\"VideoOS.Platform.Admin.ItemNode\"\\)\nif \\($itemNodeType\\) {\n    $itemNodeType.GetProperties\\(\\) | Where-Object { $_.Name -like \"*Status*\" -or $_.Name -like \"*Icon*\" -or $_.Name -like \"*Image*\" } | ForEach-Object { \"$\\($_.PropertyType.Name\\) $\\($_.Name\\)\" }\n} else {\n    Write-Host \"ItemNode type not found\"\n}\n\nWrite-Host \"\"\nWrite-Host \"=== ItemManager status/icon methods ===\"\n$imType = $asm.GetType\\(\"VideoOS.Platform.Admin.ItemManager\"\\)\nif \\($imType\\) {\n    $imType.GetMethods\\(\\) | Where-Object { $_.Name -like \"*Status*\" -or $_.Name -like \"*Icon*\" -or $_.Name -like \"*State*\" } | ForEach-Object { $_.ToString\\(\\) }\n} else {\n    Write-Host \"ItemManager type not found\"\n}\n\nWrite-Host \"\"\nWrite-Host \"=== Item class status/icon properties ===\"\n$itemType = $asm.GetType\\(\"VideoOS.Platform.Item\"\\)\nif \\($itemType\\) {\n    $itemType.GetProperties\\(\\) | Where-Object { $_.Name -like \"*Status*\" -or $_.Name -like \"*Icon*\" -or $_.Name -like \"*State*\" } | ForEach-Object { \"$\\($_.PropertyType.Name\\) $\\($_.Name\\)\" }\n} else {\n    Write-Host \"Item type not found\"\n}\n\nWrite-Host \"\"\nWrite-Host \"=== All ItemManager methods ===\"\nif \\($imType\\) {\n    $imType.GetMethods\\([System.Reflection.BindingFlags]::Public -bor [System.Reflection.BindingFlags]::Instance\\) | ForEach-Object { $_.ToString\\(\\) } | Sort-Object\n}\nPSEOF)",
      "Bash(/tmp/reflect_status2.ps1 << 'PSEOF'\n$asm = [System.Reflection.Assembly]::LoadFrom\\(\"C:\\\\Program Files\\\\Milestone\\\\MIPPlugins\\\\RtmpStreamer\\\\VideoOS.Platform.dll\"\\)\n\nWrite-Host \"=== OperationalState type ===\"\n$osType = $asm.GetType\\(\"VideoOS.Platform.Admin.OperationalState\"\\)\nif \\($osType\\) {\n    Write-Host \"BaseType: $\\($osType.BaseType.FullName\\)\"\n    if \\($osType.IsEnum\\) {\n        Write-Host \"Enum values:\"\n        [System.Enum]::GetNames\\($osType\\) | ForEach-Object { Write-Host \"  $_\" }\n    } else {\n        Write-Host \"Properties:\"\n        $osType.GetProperties\\(\\) | ForEach-Object { Write-Host \"  $\\($_.PropertyType.Name\\) $\\($_.Name\\)\" }\n        Write-Host \"Fields:\"\n        $osType.GetFields\\([System.Reflection.BindingFlags]::Public -bor [System.Reflection.BindingFlags]::Static\\) | ForEach-Object { Write-Host \"  $\\($_.FieldType.Name\\) $\\($_.Name\\)\" }\n        Write-Host \"Constructors:\"\n        $osType.GetConstructors\\(\\) | ForEach-Object { Write-Host \"  $\\($_.ToString\\(\\)\\)\" }\n    }\n} else {\n    Write-Host \"OperationalState type not found\"\n}\n\nWrite-Host \"\"\nWrite-Host \"=== StateGroup type ===\"\n$sgType = $asm.GetType\\(\"VideoOS.Platform.Data.StateGroup\"\\)\nif \\($sgType\\) {\n    Write-Host \"BaseType: $\\($sgType.BaseType.FullName\\)\"\n    Write-Host \"Properties:\"\n    $sgType.GetProperties\\(\\) | ForEach-Object { Write-Host \"  $\\($_.PropertyType.Name\\) $\\($_.Name\\)\" }\n} else {\n    Write-Host \"StateGroup type not found\"\n}\n\nWrite-Host \"\"\nWrite-Host \"=== StatusFlags enum ===\"\n$sfType = $asm.GetType\\(\"VideoOS.Platform.Live.StatusFlags\"\\)\nif \\($sfType -and $sfType.IsEnum\\) {\n    [System.Enum]::GetNames\\($sfType\\) | ForEach-Object { Write-Host \"  $_\" }\n}\n\nWrite-Host \"\"\nWrite-Host \"=== Types with Operational in name ===\"\n$asm.GetTypes\\(\\) | Where-Object { $_.Name -like \"*Operational*\" -and $_.IsPublic } | ForEach-Object { \"$\\($_.FullName\\) \\($\\($_.BaseType.Name\\)\\)\" }\n\nWrite-Host \"\"\nWrite-Host \"=== HasStatusChanged or similar on ItemManager ===\"\n$imType = $asm.GetType\\(\"VideoOS.Platform.Admin.ItemManager\"\\)\n$imType.GetMethods\\(\\) | Where-Object { $_.Name -like \"*Has*\" -or $_.Name -like \"*Change*\" -or $_.Name -like \"*Notification*\" -or $_.Name -like \"*Event*\" } | ForEach-Object { $_.ToString\\(\\) }\nPSEOF)"
    ]
  }
}
